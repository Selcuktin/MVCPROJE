{% extends 'base.html' %}

{% load static %}



{% block title %}ðŸ“š Derslerim{% endblock %}



{% block content %}

<div class="dashboard-container">

    <!-- Header -->

    <div class="d-flex justify-content-between align-items-center mb-4">

        <div>

            <h2><i class="fas fa-book text-primary"></i> Derslerim</h2>

            <nav aria-label="breadcrumb">

                <ol class="breadcrumb">

                    <li class="breadcrumb-item"><a href="{% url 'home' %}">Ana Sayfa</a></li>

                    <li class="breadcrumb-item"><a href="{% url 'teachers:dashboard' %}">Ã–ÄŸretmen Paneli</a></li>

                    <li class="breadcrumb-item active">Derslerim</li>

                </ol>

            </nav>

        </div>

    </div>



    <!-- Course Cards - Responsive Grid -->

    {% if course_groups %}

    <div class="row g-4">

        {% for group in course_groups %}

        <!-- Maksimum 3 kart yan yana gelecek ÅŸekilde ayarlandÄ± -->

        <div class="col-12 col-sm-6 col-md-6 col-lg-4 col-xl-4">

            <div class="card h-100 shadow-sm border-0"

                style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">

                <div class="card-header bg-transparent border-0 text-white">

                    <div class="d-flex justify-content-between align-items-center">

                        <span class="badge bg-light text-dark">{{ group.course.code }}</span>

                        <span class="badge bg-warning text-dark">{{ group.course.semester }}. DÃ¶nem</span>

                    </div>

                </div>



                <div class="card-body text-white d-flex flex-column">

                    <h5 class="card-title mb-4">{{ group.course.name }}</h5>



                    <div class="mt-auto">

                        <div class="row text-center mb-3">

                            <div class="col-4">

                                <i class="fas fa-clock"></i>

                                <div class="small">{{ group.schedule|default:"Pazartesi 09:00-12:00" }}</div>

                            </div>

                            <div class="col-4">

                                <i class="fas fa-map-marker-alt"></i>

                                <div class="small">{{ group.classroom|default:"A100" }}</div>

                            </div>

                            <div class="col-4">

                                <i class="fas fa-users"></i>

                                <div class="small">{{ group.student_count }} Ã¶ÄŸrenci</div>

                            </div>

                        </div>

                    </div>

                </div>



                <div class="card-footer bg-transparent border-0">

                    <div class="btn-group w-100" role="group">
                        <a href="/admin/courses/coursegroup/{{ group.id }}/change/" class="btn btn-light btn-sm">
                            <i class="fas fa-eye"></i> Detay
                        </a>
                        <a href="{% url 'gradebook:course_gradebook' group.id %}" class="btn btn-success btn-sm">
                            <i class="fas fa-users"></i> Ã–ÄŸrenciler
                        </a>
                        <a href="{% url 'courses:assignment_list' %}?group={{ group.id }}" class="btn btn-primary btn-sm">
                            <i class="fas fa-tasks"></i> Ã–devler
                        </a>
                        <a href="{% url 'quiz:quiz_create' group.id %}" class="btn btn-warning btn-sm">
                            <i class="fas fa-clipboard-list"></i> SÄ±navlar
                        </a>
                        <a href="/admin/notes/note/add/" class="btn btn-info btn-sm">
                            <i class="fas fa-sticky-note"></i> Not Ekle
                        </a>
                    </div>

                </div>

            </div>

        </div>

        {% endfor %}

    </div>

    {% else %}

    <!-- Empty State -->

    <div class="row justify-content-center">

        <div class="col-md-6 text-center">

            <div class="card border-0 shadow-sm">

                <div class="card-body py-5">

                    <i class="fas fa-book fa-4x text-muted mb-4"></i>

                    <h4 class="text-muted">HenÃ¼z Ders AtamasÄ± Yok</h4>

                    <p class="text-muted">Size henÃ¼z bir ders atanmamÄ±ÅŸ. YÃ¶neticinizle iletiÅŸime geÃ§in.</p>

                    <a href="{% url 'teachers:dashboard' %}" class="btn btn-primary">

                        <i class="fas fa-arrow-left"></i> Ana Sayfaya DÃ¶n

                    </a>

                </div>

            </div>

        </div>

    </div>

    {% endif %}

</div>



<style>

    /* Responsive Card Fixes */

    @media (max-width: 768px) {

        .card-body .btn-group {

            flex-direction: column;

        }



        .card-body .btn-group .btn {

            margin-bottom: 0.25rem;

            border-radius: 0.375rem !important;

        }



        .card-title {

            font-size: 1.1rem;

        }

    }



    @media (max-width: 576px) {

        .col-12 {

            padding-left: 0.75rem;

            padding-right: 0.75rem;

        }



        .container-fluid {

            padding-left: 1rem;

            padding-right: 1rem;

        }

    }



    /* Card hover effects */

    .card {

        transition: transform 0.2s ease-in-out;

    }



    .card:hover {

        transform: translateY(-5px);

    }



    /* Ensure buttons don't overflow */

    .btn-group .btn {

        flex: 1;

        font-size: 0.8rem;

        padding: 0.375rem 0.25rem;

    }



    /* Fix text overflow */

    .card-title,

    .card-text {

        word-wrap: break-word;

        overflow-wrap: break-word;

    }

</style>

{% endblock %}